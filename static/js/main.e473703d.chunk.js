(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,o){e.exports=o(21)},17:function(e,t,o){},19:function(e,t,o){},20:function(e,t,o){},21:function(e,t,o){"use strict";o.r(t);var n=o(0),a=o.n(n),s=o(8),r=o.n(s),c=(o(17),o(10)),i=o(6),l=o.n(i),d=o(9),u=o(1),m=o(2),h=o(4),p=o(3),f=o(5),k=(o(19),o(20),function(e){return a.a.createElement("li",null,a.a.createElement("label",{htmlFor:"checkbox",style:e.todo.completed?{textDecoration:"line-through",color:"#cdcdcd",fontStyle:"italick"}:null},a.a.createElement("input",{name:e.todo.id,type:"checkbox",checked:e.todo.completed,onChange:e.handleCheckBox}),e.todo.title))}),b=function(e){function t(){var e,o;Object(u.a)(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(o=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(a)))).state={name:"close"},o.handleShowComments=function(e){"close"===e.target.name?o.setState({name:"open"}):o.setState({name:"close"})},o}return Object(f.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.props.user.usertodos.map(function(t){return a.a.createElement(k,{key:t.id,todo:t,handleCheckBox:e.props.handleCheckBox})});return a.a.createElement("div",{className:"user"},a.a.createElement("div",{className:"user__block"},a.a.createElement("h3",{className:"user-info user-info__header"},"Username:"," ",this.props.user.username),a.a.createElement("p",{className:"user-info user-info__additional user-info__email"},this.props.user.email),a.a.createElement("p",{className:"user-info user-info__additional user-info__phone"},this.props.user.phone)),a.a.createElement("div",{className:"todos--header"},a.a.createElement("h2",null,"Todos"),a.a.createElement("button",{onClick:this.handleShowComments,className:"button--link",name:this.state.name},"Show Todos")),a.a.createElement("div",{className:"todos",style:{display:"open"===this.state.name?"block":"none"}},a.a.createElement("ul",{className:"todos__list"},t),a.a.createElement("div",{className:"todos__button-container"},a.a.createElement("button",{onClick:this.props.handleSortClickTodos,className:"button--link"},"Sort by Done"),a.a.createElement("button",{onClick:this.props.handleSortClickTodos,name:"titleSort",className:"button--link"},"Sort by Title"))))}}]),t}(a.a.Component),y=function(){return fetch("https://jsonplaceholder.typicode.com/users").then(function(e){return e.json()})},S=function(){return fetch("https://jsonplaceholder.typicode.com/todos").then(function(e){return e.json()})},v=function(e){function t(){var e,o;Object(u.a)(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(o=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(a)))).state={isLoading:!0,isServerLoading:!1,sortUsersByName:1,sortTodoByDone:1,users:[],todos:[]},o.handleClick=function(){o.setState(function(e){return{isServerLoading:!o.state.isServerLoading}}),setTimeout(Object(d.a)(l.a.mark(function e(){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o.setState(function(e){return{isLoading:!e,isServerLoading:!e}}),e.t0=o,e.next=4,y();case 4:return e.t1=e.sent,e.next=7,S();case 7:e.t2=e.sent,e.t3={users:e.t1,todos:e.t2},e.t0.setState.call(e.t0,e.t3);case 10:case"end":return e.stop()}},e)})),500)},o.handleCheckBox=function(e){var t=e.target,n=t.name,a=t.checked;o.setState({todos:o.state.todos.map(function(e){return e.id===+n&&(e.completed=a),e})})},o.handleSortClick=function(){o.setState({users:o.state.users.sort(function(e,t){return o.state.sortUsersByName*e.username.localeCompare(t.username)}),sortUsersByName:-o.state.sortUsersByName})},o.handleSortClickTodos=function(e){"titleSort"===e.target.name?o.setState({todos:o.state.todos.sort(function(e,t){return o.state.sortTodoByDone*e.title.localeCompare(t.title)}),sortTodoByDone:-o.state.sortTodoByDone}):o.setState({todos:o.state.todos.sort(function(e,t){return e.completed===t.completed?0:e.completed?o.state.sortTodoByDone:-o.state.sortTodoByDone}),sortTodoByDone:-o.state.sortTodoByDone})},o}return Object(f.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.state.users.map(function(t){return Object(c.a)({},t,{usertodos:e.state.todos.filter(function(e){return e.userId===t.id})})}).map(function(t){return a.a.createElement(b,{key:t.id,user:t,handleCheckBox:e.handleCheckBox,handleSortClickTodos:e.handleSortClickTodos})}),o=this.state.isServerLoading&&a.a.createElement("div",{className:"loader"}),n=this.state.isServerLoading||a.a.createElement("button",{className:"button",onClick:this.handleClick,style:{backgroundColor:!this.state.isLoading&&"#000"}},this.state.isLoading?"Load Todos":"Hide Todos"),s=this.state.isServerLoading||this.state.isLoading||t,r=this.state.isServerLoading||this.state.isLoading||a.a.createElement("button",{className:"button--link",onClick:this.handleSortClick},"Sort users by UserName");return a.a.createElement("div",null,r,o,s,n)}}]),t}(a.a.Component);var C=function(){return a.a.createElement("div",{className:"AppContainer"},a.a.createElement("div",{className:"App"},a.a.createElement("h1",null,"Dynamic list of todos"),a.a.createElement(v,null)))};r.a.render(a.a.createElement(C,null),document.getElementById("root"))}},[[11,1,2]]]);
//# sourceMappingURL=main.e473703d.chunk.js.map