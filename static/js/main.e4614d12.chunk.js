(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,n){e.exports=n(23)},18:function(e,t,n){},20:function(e,t,n){},21:function(e,t,n){},22:function(e,t,n){},23:function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),r=n(9),s=n.n(r),c=(n(18),n(11)),l=n(6),i=n(7),u=n.n(i),d=n(10),m=n(1),h=n(2),f=n(4),p=n(3),b=n(5),k=(n(20),"https://jsonplaceholder.typicode.com"),C=function(){return fetch("".concat(k,"/users")).then(function(e){return e.json()})},S=function(){return fetch("".concat(k,"/todos")).then(function(e){return e.json()})},y=(n(21),n(22),function(e){var t=e.todo,n=t.id,o=t.completed,r=t.title;return a.a.createElement("li",null,a.a.createElement("label",{className:e.todo.completed?"todo__label":null,htmlFor:"checkbox"},a.a.createElement("input",{name:n,type:"checkbox",checked:o,onChange:e.handleCheckBox}),r))}),v=function(e){function t(){var e,n;Object(m.a)(this,t);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(n=Object(f.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(a)))).state={isCommentsShown:!1},n.handleShowComments=function(){n.setState(function(e){return{isCommentsShown:!e.isCommentsShown}})},n}return Object(b.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this,t=this.props.user,n=t.username,o=t.email,r=t.phone,s=t.usertodos.map(function(t){return a.a.createElement(y,{key:t.id,todo:t,handleCheckBox:e.props.handleCheckBox})});return a.a.createElement("div",{className:"user"},a.a.createElement("div",{className:"user__block"},a.a.createElement("h3",{className:"user-info user-info__header"},"Username:"," ",n),a.a.createElement("p",{className:"user-info user-info__additional user-info__email"},o),a.a.createElement("p",{className:"user-info user-info__additional user-info__phone"},r)),a.a.createElement("div",{className:"todos--header"},a.a.createElement("h2",null,"Todos"),a.a.createElement("button",{onClick:this.handleShowComments,className:"button--link",type:"button"},this.state.isCommentsShown?"Hide Todos":"Show Todos")),a.a.createElement("div",{className:"todos",style:{display:this.state.isCommentsShown?"block":"none"}},a.a.createElement("ul",{className:"todos__list"},s),a.a.createElement("div",{className:"todos__button-container"},a.a.createElement("button",{onClick:this.props.handleSortClickTodos,className:"button--link",type:"button"},"Sort by Done"),a.a.createElement("button",{onClick:this.props.handleSortClickTodos,name:"titleSort",className:"button--link",type:"button"},"Sort by Title"))))}}]),t}(a.a.Component),E=function(e){function t(){var e,n;Object(m.a)(this,t);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(n=Object(f.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(a)))).state={isLoaded:!1,isServerLoading:!1,sortUsersByName:1,sortTodoByDone:1,users:[],todos:[]},n.handleClick=Object(d.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState(function(e){return{isServerLoading:!e.isServerLoading}}),e.t0=n,e.next=4,C();case 4:return e.t1=e.sent,e.next=7,S();case 7:e.t2=e.sent,e.t3={users:e.t1,todos:e.t2},e.t0.setState.call(e.t0,e.t3),n.setState(function(e){return{isLoaded:!e.isLoaded,isServerLoading:!e.isServerLoading}});case 11:case"end":return e.stop()}},e)})),n.handleCheckBox=function(e){var t=e.target,o=t.name,a=t.checked;n.setState(function(e){return{todos:e.todos.map(function(e){return e.id===+o&&(e.completed=a),e})}})},n.handleSortClick=function(){var e=n.state.users;n.setState(function(t){return{users:Object(l.a)(e).sort(function(e,n){return t.sortUsersByName*e.username.localeCompare(n.username)}),sortUsersByName:-t.sortUsersByName}})},n.handleSortClickTodos=function(e){var t=e.target.name,o=n.state.todos;"titleSort"===t?n.setState(function(e){return{todos:Object(l.a)(o).sort(function(t,n){return e.sortTodoByDone*t.title.localeCompare(n.title)}),sortTodoByDone:-e.sortTodoByDone}}):n.setState(function(e){return{todos:Object(l.a)(o).sort(function(t,n){return e.sortTodoByDone*(t.completed-n.completed)}),sortTodoByDone:-e.sortTodoByDone}})},n.getUsers=function(){return n.state.users.map(function(e){return Object(c.a)({},e,{usertodos:n.state.todos.filter(function(t){return t.userId===e.id})})})},n}return Object(b.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this,t=this.getUsers(),n=this.state,o=n.isLoaded,r=n.isServerLoading,s=t.map(function(t){return a.a.createElement(v,{key:t.id,user:t,handleCheckBox:e.handleCheckBox,handleSortClickTodos:e.handleSortClickTodos,handleSortClick:e.handleSortClick})}),c=r&&a.a.createElement("div",{className:"loader"}),l=r||a.a.createElement("button",{className:"button",type:"button",onClick:this.handleClick,style:{backgroundColor:!o&&"#000000"}},o?"Delete all Todos":"Load Todos from server"),i=r||o&&a.a.createElement(a.a.Fragment,null,a.a.createElement("button",{className:"button--link",onClick:this.handleSortClick,type:"button"},"Sort users by UserName"),s);return a.a.createElement("div",null,c,i,l)}}]),t}(a.a.Component);var N=function(){return a.a.createElement("div",{className:"AppContainer"},a.a.createElement("div",{className:"App"},a.a.createElement("h1",null,"Dynamic list of todos"),a.a.createElement(E,null)))};s.a.render(a.a.createElement(N,null),document.getElementById("root"))}},[[12,1,2]]]);
//# sourceMappingURL=main.e4614d12.chunk.js.map